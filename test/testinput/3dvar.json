{
  "nml_file": "Data/fv3files/fmsmpp.nml",
  "trc_file": "Data/fv3files/field_table",
  "test_framework_runtime_config": "--log_level=test_suite",
  "resolution": {
    "init_type": "inline",
    "npx": "97",
    "npy": "97",
    "npz": "64",
    "hydrostatic": "1",
    "layout_1": "1",
    "layout_2": "1",
    "io_layout_1": "1",
    "io_layout_2": "1",
    "halo": "3",
    "filename_spec": "grid_spec.nc",
    "filename_core": "fv_core.res.nc",    
    "datapath_geom": "Data/C96_RESTART_2016-01-01-06/",
    "nml_file": "Data/fv3files/input_c96.nml",
    "trc_file": "Data/fv3files/field_table",
    "wind_type": "D-grid"
  },
  "model": {
    "nml_file": "Data/fv3files/input_c96.nml",
    "trc_file": "Data/fv3files/field_table", 
    "tstep": "PT15M",
    "init_tlmadm": "0",
    "update_dgridwind": "0",
    "update_pressures": "1"
  },
  "cost_function": {
    "cost_type": "3D-Var",
    "window_begin": "2016-01-01T03:00:00Z",
    "window_length": "PT6H",
    "variables": ["u","v","pt",delp","q"],
    "Jb": {
      "Background": {
         "state" : [{
           "filename_core": "fv_core.res.nc",
           "filename_trcr": "fv_tracer.res.nc",
           "filename_cplr": "coupler.res",
           "nml_file": "Data/fv3files/input_c96.nml",
           "trc_file": "Data/fv3files/field_table",
           "datapath_read": "Data/C96_RESTART_2016-01-01-06/",
           "datapath_tile": "Data/C96_RESTART_2016-01-01-06/INPUT/",
           "date": "2016-01-01T06:00:00Z"
         }]
      },
      "Covariance": {
        "covariance": "FV3JEDIstatic",
        "standard_deviation": "0.8",
        "vertical_correlation": "0.2",
        "horizontal_length_scale": "1e6",
        "maximum_condition_number": "1.0e6",
        "date": "2016-01-01T06:00:00Z"
      }
    },
    "Jo": {
      "ObsTypes": [
        {
          "ObsType": "Radiosonde",
          "ObsData": {
            "ObsDataIn": {
              "obsfile": "../../ufo/test/Data/diag_t_01_wprofiles.nc4"
            },
            "ObsDataOut": {
              "obsfile": "Data/fv3jedi.3dvar.obt"
            },
            "obsvalue": "ObsVal"
          },
          "Covariance": {
            "covariance": "diagonal",
            "obserror": "ObsErr"
          }
        }
      ]
    }
  },
  "minimizer": {
    "algorithm": "DRIPCG"
  },
  "output": {
    "first": "PT0H",
    "frequency": "PT01H",
    "filename_core": "3D-Var.fv_core.res.nc",
    "filename_trcr": "3D-Var.fv_tracer.res.nc",
    "filename_cplr": "3D-Var.coupler.res",
    "datapath_write": "Data/"
  },
  "variational": {
    "iteration": [
      {
        "resolution": {
          "init_type": "inline",
          "npx": "97",
          "npy": "97",
          "npz": "64",
          "hydrostatic": "1",
          "layout_1": "1",
          "layout_2": "1",
          "io_layout_1": "1",
          "io_layout_2": "1",
          "halo": "3",
          "filename_spec": "grid_spec.nc",
          "filename_core": "fv_core.res.nc",    
          "datapath_geom": "Data/C96_RESTART_2016-01-01-06/",
          "nml_file": "Data/fv3files/input_c96.nml",
          "trc_file": "Data/fv3files/field_table",
          "wind_type": "D-grid"
        },
        "linearmodel": {
          "version": "FV3JEDIIdTLM",
          "nml_file": "Data/fv3files/input_c96.nml",
          "trc_file": "Data/fv3files/field_table", 
          "nml_file_pert": "Data/fv3files/inputpert_4dvar.nml",
          "tstep": "PT15M",
          "init_tlmadm": "1",
          "update_dgridwind": "0",
          "update_pressures": "1",
          "trajectory": {
            "nml_file": "Data/fv3files/input_c96.nml",
            "trc_file": "Data/fv3files/field_table", 
            "tstep": "PT15M",
            "init_tlmadm": "0"
          }
        },
        "ninner": "10",
        "gradient_norm_reduction": "1e-10",
        "test": "on",
        "diagnostics": {
          "departures": "ombg"
        }
      },
      {
        "resolution": {
          "init_type": "inline",
          "npx": "97",
          "npy": "97",
          "npz": "64",
          "hydrostatic": "1",
          "layout_1": "1",
          "layout_2": "1",
          "io_layout_1": "1",
          "io_layout_2": "1",
          "halo": "3",
          "filename_spec": "grid_spec.nc",
          "filename_core": "fv_core.res.nc",    
          "datapath_geom": "Data/C96_RESTART_2016-01-01-06/",
          "nml_file": "Data/fv3files/input_c96.nml",
          "trc_file": "Data/fv3files/field_table",
          "wind_type": "D-grid"
        },
        "linearmodel": {
          "version": "FV3JEDIIdTLM",
          "nml_file": "Data/fv3files/input_c96.nml",
          "trc_file": "Data/fv3files/field_table", 
          "nml_file_pert": "Data/fv3files/inputpert_4dvar.nml",
          "tstep": "PT15M",
          "init_tlmadm": "1",
          "update_dgridwind": "0",
          "update_pressures": "1",
          "trajectory": {
            "nml_file": "Data/fv3files/input_c96.nml",
            "trc_file": "Data/fv3files/field_table", 
            "tstep": "PT15M",
            "init_tlmadm": "0"
          }
        },
        "ninner": "10",
        "gradient_norm_reduction": "1e-10",
        "test": "on"
      }
    ]
  },
  "final": {
    "diagnostics": {
      "departures": "oman"
    }
  }
}
